PROJECT(osm2pgrouting)
CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

set (CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake" ${CMAKE_MODULE_PATH})

FIND_PACKAGE(PostgreSQL REQUIRED)
FIND_PACKAGE(EXPAT REQUIRED)
FIND_PACKAGE(Boost REQUIRED)

FILE(GLOB SRC src/*.cpp src/*.h)

set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -D_FILE_OFFSET_BITS=64")

INCLUDE_DIRECTORIES(src ${PostgreSQL_INCLUDE_DIRS} ${EXPAT_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS})
link_directories(${PostgreSQL_LIBRARY_DIRS})

ADD_EXECUTABLE(osm2pgrouting ${SRC})
TARGET_LINK_LIBRARIES(osm2pgrouting ${PostgreSQL_LIBRARIES} ${EXPAT_LIBRARIES})

INSTALL(TARGETS osm2pgrouting
  RUNTIME DESTINATION bin
)
